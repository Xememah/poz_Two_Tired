{"version":3,"sources":["webpack:///static/js/app.7d4f90b2e71eed04a1ad.js","webpack:///./src/router/index.js","webpack:///./src/App.vue?35a7","webpack:///App.vue","webpack:///Landing.vue","webpack:///MapView.vue","webpack:///Timeline.vue","webpack:///./src/httpclient.js","webpack:///./src/main.js","webpack:///./src/components/Landing.vue?eb90","webpack:///./src/components/MapView.vue","webpack:///./src/components/Timeline.vue?989f","webpack:///./src/components/Timeline.vue?5dae","webpack:///./src/components/Landing.vue?2870","webpack:///./src/components/MapView.vue?1421","webpack:///./src/App.vue?0c03"],"names":["webpackJsonp","26","module","__webpack_exports__","__webpack_require__","__WEBPACK_IMPORTED_MODULE_0_vue__","__WEBPACK_IMPORTED_MODULE_1_vue_router__","__WEBPACK_IMPORTED_MODULE_2__components_Landing__","__WEBPACK_IMPORTED_MODULE_2__components_Landing___default","n","use","routes","path","name","component","a","27","exports","injectStyle","ssrContext","Component","28","Object","defineProperty","value","data","29","__WEBPACK_IMPORTED_MODULE_0__components_MapView__","__WEBPACK_IMPORTED_MODULE_0__components_MapView___default","components","mapView","mounted","30","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator___default","__WEBPACK_IMPORTED_MODULE_1__Timeline_vue__","__WEBPACK_IMPORTED_MODULE_1__Timeline_vue___default","__WEBPACK_IMPORTED_MODULE_2__httpclient_js__","timeline","interval","addition","future","markers","markersData","undefined","lastUpdate","pathUpdate","colors","BIKE_CITY","BIKE_MOUNTAIN","BIKE_ROAD","BIKE_TREKKING","DEFAULT","this","initMap","methods","fetchData","time","howManySecondsToSeeInToFuture","_this","apiPath","get","response","JSON","parse","slice","updatePaths","timeChange","current","console","log","Date","toString","slider","document","getElementById","noUiSlider","oldData","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","next","done","markerData","hash","line","currPath","getPath","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","steps","step","ts","push","google","maps","LatLng","lat","lng","err","return","_markerPath","initMarker","marker","lineSymbol","SymbolPath","FORWARD_CLOSED_ARROW","scale","strokeWeight","markerPath","Polyline","icons","icon","offset","geodesic","strokeColor","strokeOpacity","_iteratorNormalCompletion4","_didIteratorError4","_iteratorError4","_step5","_iterator4","setMap","map","uluru","Map","scrollwheel","zoom","center","populateMarkers","animateCircle","count","window","setInterval","set","changeTarget","_this2","t","city","target","geocoder","Geocoder","b","geocode","address","results","status","panTo","geometry","location","setZoom","Marker","position","title","31","constraints","max","min","inter","props","toDate","v","base","formatDate","toDatePips","reverseDate","str","date","replace","dateParts","match","parseInt","getTime","tick","create","start","connect","tooltips","format","to","from","Number","range","pips","mode","values","conf","on","handle","dismounted","clearInterval","$emit","pip","nth","d","e","weekdays","getDay","getDate","getMonth","getFullYear","getHours","getMinutes","request","XMLHttpRequest","open","send","responseText","32","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck___default","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_createClass__","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_createClass___default","_class","key","aUrl","aCallback","anHttpRequest","onreadystatechange","readyState","33","__WEBPACK_IMPORTED_MODULE_1__App__","__WEBPACK_IMPORTED_MODULE_1__App___default","__WEBPACK_IMPORTED_MODULE_2__router__","config","productionTip","el","router","template","App","68","69","70","71","72","73","74","render","_vm","_h","$createElement","_self","_c","_m","staticRenderFns","staticClass","attrs","id","75","76","_v","77"],"mappings":"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","file":"static/js/app.7d4f90b2e71eed04a1ad.js","sourcesContent":["webpackJsonp([1],{\n\n/***/ 26:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue__ = __webpack_require__(15);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_vue_router__ = __webpack_require__(78);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__components_Landing__ = __webpack_require__(71);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__components_Landing___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__components_Landing__);\n\n\n\n\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */].use(__WEBPACK_IMPORTED_MODULE_1_vue_router__[\"a\" /* default */]);\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (new __WEBPACK_IMPORTED_MODULE_1_vue_router__[\"a\" /* default */]({\n  routes: [{\n    path: '/',\n    name: 'Landing',\n    component: __WEBPACK_IMPORTED_MODULE_2__components_Landing___default.a\n  }]\n}));\n\n/***/ }),\n\n/***/ 27:\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(70)\n}\nvar Component = __webpack_require__(9)(\n  /* script */\n  __webpack_require__(28),\n  /* template */\n  __webpack_require__(77),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 28:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  data: function data() {\n    return {};\n  }\n});\n\n/***/ }),\n\n/***/ 29:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_MapView__ = __webpack_require__(72);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_MapView___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__components_MapView__);\n//\n//\n//\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  components: {\n    mapView: __WEBPACK_IMPORTED_MODULE_0__components_MapView___default.a\n  },\n  data: function data() {\n    return {};\n  },\n\n  mounted: function mounted() {}\n});\n\n/***/ }),\n\n/***/ 30:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator__ = __webpack_require__(34);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Timeline_vue__ = __webpack_require__(73);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Timeline_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__Timeline_vue__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__httpclient_js__ = __webpack_require__(32);\n\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  components: {\n    'timeline': __WEBPACK_IMPORTED_MODULE_1__Timeline_vue___default.a\n  },\n  data: function data() {\n    return {\n      interval: 500,\n      addition: 6,\n      future: 60,\n      markers: {},\n      markersData: undefined,\n      lastUpdate: 0,\n      pathUpdate: 0,\n      colors: {\n        \"BIKE_CITY\": \"#EA2E49\",\n        \"BIKE_MOUNTAIN\": \"#333745\",\n        \"BIKE_ROAD\": \"#5C832F\",\n        \"BIKE_TREKKING\": \"#2980B9\",\n        \"DEFAULT\": \"#cc0000\"\n      }\n    };\n  },\n\n  mounted: function mounted() {\n    this.initMap();\n  },\n  methods: {\n    fetchData: function fetchData(time, howManySecondsToSeeInToFuture) {\n      var _this = this;\n\n      var apiPath = 'https://twotired.math.party/data?timestamp=' + time + '&duration=' + howManySecondsToSeeInToFuture;\n      var client = new __WEBPACK_IMPORTED_MODULE_2__httpclient_js__[\"a\" /* default */]();\n      client.get(apiPath, function (response) {\n        _this.markersData = JSON.parse(response).slice(0, 80);\n        _this.updatePaths(time);\n        _this.pathUpdate = time;\n      });\n    },\n    timeChange: function timeChange(current) {\n      if (current - this.lastUpdate > (this.future - this.addition) * (this.interval / 1000)) {\n        this.lastUpdate = current;\n        this.fetchData(current, this.future);\n      } else {\n        console.log(new Date(current * 1000).toString());\n\n        var slider = document.getElementById('slider-connect');\n        //slider.noUiSlider.set(\"1483225606\");\n        console.log(current);\n        console.log(slider.noUiSlider.get());\n        this.updatePaths(current);\n        this.pathUpdate = current;\n      }\n    },\n    updatePaths: function updatePaths(time, oldData) {\n      if (!this.markersData) {\n        return;\n      }\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator___default()(this.markersData), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var markerData = _step.value;\n\n          if (!this.markers || !this.markers[markerData.hash]) {\n            var _markerPath = this.initMarker(markerData, time);\n            this.markers[markerData.hash] = _markerPath;\n          } else {\n            var line = this.markers[markerData.hash];\n            var currPath = line.getPath();\n            var _iteratorNormalCompletion2 = true;\n            var _didIteratorError2 = false;\n            var _iteratorError2 = undefined;\n\n            try {\n              for (var _iterator2 = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator___default()(markerData.steps), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n                var step = _step2.value;\n\n                if (step.ts > this.pathUpdate && step.ts <= time) {\n                  currPath.push(new google.maps.LatLng(step.lat, step.lng));\n                }\n              }\n            } catch (err) {\n              _didIteratorError2 = true;\n              _iteratorError2 = err;\n            } finally {\n              try {\n                if (!_iteratorNormalCompletion2 && _iterator2.return) {\n                  _iterator2.return();\n                }\n              } finally {\n                if (_didIteratorError2) {\n                  throw _iteratorError2;\n                }\n              }\n            }\n\n            continue;\n            outer: for (var i = 0; i < markerData.steps.length; i++) {\n              var _step3 = markerData.steps[i];\n              var _iteratorNormalCompletion3 = true;\n              var _didIteratorError3 = false;\n              var _iteratorError3 = undefined;\n\n              try {\n                for (var _iterator3 = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator___default()(line.getPath().getArray()), _step4; !(_iteratorNormalCompletion3 = (_step4 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n                  var s = _step4.value;\n\n                  if (_step3.lat == s.lat && _step3.lng == s.lng) {\n                    continue outer;\n                  }\n                }\n              } catch (err) {\n                _didIteratorError3 = true;\n                _iteratorError3 = err;\n              } finally {\n                try {\n                  if (!_iteratorNormalCompletion3 && _iterator3.return) {\n                    _iterator3.return();\n                  }\n                } finally {\n                  if (_didIteratorError3) {\n                    throw _iteratorError3;\n                  }\n                }\n              }\n\n              if (_step3.ts <= time) {\n                if (_step3.last) {\n                  line.setMap(null);\n                  line = null;\n                  break;\n                }\n                newp.push(new google.maps.LatLng(_step3.lat, _step3.lng));\n                markerData.steps.splice(i, 1);\n                i--;\n              }\n            }\n          }\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n    },\n    initMarker: function initMarker(marker, current) {\n      var lineSymbol = {\n        path: google.maps.SymbolPath.FORWARD_CLOSED_ARROW,\n        scale: 3,\n        strokeWeight: 3\n      };\n      var markerPath = new google.maps.Polyline({\n        icons: [{\n          icon: lineSymbol,\n          offset: '100%'\n        }],\n        geodesic: false,\n        strokeColor: '#cc0000',\n        strokeOpacity: 1,\n        strokeWeight: 3\n      });\n\n      if (this.colors[marker['activity_type']]) {\n        lineSymbol.strokeColor = this.colors[marker['activity_type']];\n        markerPath.strokeColor = this.colors[marker['activity_type']];\n      } else {\n        lineSymbol.strokeColor = this.colors[\"DEFAULT\"];\n        markerPath.strokeColor = this.colors[\"DEFAULT\"];\n      }\n\n      var path = [];\n      var _iteratorNormalCompletion4 = true;\n      var _didIteratorError4 = false;\n      var _iteratorError4 = undefined;\n\n      try {\n        for (var _iterator4 = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator___default()(marker.steps), _step5; !(_iteratorNormalCompletion4 = (_step5 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {\n          var step = _step5.value;\n\n          if (step.ts <= current) {\n            path.push({ lat: step.lat, lng: step.lng });\n          }\n        }\n      } catch (err) {\n        _didIteratorError4 = true;\n        _iteratorError4 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion4 && _iterator4.return) {\n            _iterator4.return();\n          }\n        } finally {\n          if (_didIteratorError4) {\n            throw _iteratorError4;\n          }\n        }\n      }\n\n      markerPath.path = path;\n      markerPath.setMap(this.map);\n      return markerPath;\n    },\n    initMap: function initMap() {\n      var uluru = { lat: 52.385392, lng: 16.992963 };\n      this.map = new google.maps.Map(document.getElementById('map'), {\n        scrollwheel: false,\n        zoom: 13,\n        center: uluru\n      });\n      // this.changeTarget();\n    },\n    populateMarkers: function populateMarkers() {\n      this.animateCircle(markerPath);\n      /*google.maps.event.addListener(marker, 'click', function () {\r\n        map.panTo(this.position);\r\n        // if a tooltip is present, dispose it\r\n        if (tooltip) {\r\n          tooltip.close();\r\n        }\r\n        tooltip = new google.maps.InfoWindow({\r\n          content: createTooltip(this.data, pict)\r\n        });\r\n        tooltip.open(map, this);\r\n      })*/\n      //}\n    },\n    animateCircle: function animateCircle(line) {\n      var count = 0;\n      window.setInterval(function () {\n        count = (count + 1) % 200;\n\n        var icons = line.get('icons');\n        icons[0].offset = count / 2 + '%';\n        line.set('icons', icons);\n      }, 300);\n    },\n    changeTarget: function changeTarget() {\n      var _this2 = this;\n\n      var t = this.city + ', ' + this.target + ', Polska';\n      var geocoder = new google.maps.Geocoder();\n      var b = this.map;\n      geocoder.geocode({ 'address': t }, function (results, status) {\n        if (status === 'OK') {\n          b.panTo(results[0].geometry.location);\n          b.setZoom(15);\n          if (_this2.marker) {\n            _this2.marker.setMap(null);\n          }\n          if (_this2.marker === null) {\n            var marker = new google.maps.Marker({\n              position: results[0].geometry.location,\n              title: \"Tu jesteś!\"\n            });\n            _this2.marker = marker;\n            marker.setMap(_this2.map);\n          }\n          _this2.marker = null;\n        }\n      });\n    }\n  }\n});\n\n/***/ }),\n\n/***/ 31:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n//\n//\n//\n//\n//\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    data: function data() {\n        return {\n            constraints: {},\n            max: 0,\n            min: 0,\n            current: 0,\n            inter: {}\n        };\n    },\n\n    props: ['interval', 'addition'],\n    mounted: function mounted() {\n        this.fetchData();\n        this.interval = window.setInterval(this.tick, 300);\n\n        var timeline = document.getElementById('slider-connect');\n\n        console.log(this.min + ' ; ' + this.max);\n\n        var base = this;\n        function toDate(v) {\n            return base.formatDate(new Date(v * 1000), true);\n        }\n\n        function toDatePips(v) {\n            return base.formatDate(new Date(v * 1000), false);\n        }\n\n        function reverseDate(str) {\n            var date = str.slice(-33);\n            date = date.replace(/<[^>]*>/g, '');\n            var dateParts = date.match(/(\\d+).(\\d+).(\\d+) (\\d+):(\\d+)/);\n            console.log(dateParts);\n            new Date();\n            date = new Date(dateParts[3], parseInt(dateParts[2], 10) - 1, dateParts[1], dateParts[4], dateParts[5]);\n            console.log(date.getTime());\n            return date;\n        }\n\n        var slider = noUiSlider.create(timeline, {\n            start: this.min,\n            connect: [true, false],\n            tooltips: [true],\n            format: { to: toDate, from: Number },\n            range: {\n                'min': this.min - 5000,\n                'max': this.max + 5000\n            },\n            step: 2000,\n            pips: {\n                format: { to: toDatePips, from: Number },\n                mode: 'values',\n                values: [this.min, this.max]\n            }\n        });\n\n        var conf = this;\n        slider.target.noUiSlider.on('change', function (values, handle) {\n            if (reverseDate(values[handle]) < 1000 * conf.min) {\n                console.log(\"za mały\");\n                slider.target.noUiSlider.set(conf.min);\n            } else if (reverseDate(values[handle]) > 1000 * conf.max) {\n                console.log(\"that's what she said\");\n                slider.target.noUiSlider.set(conf.max);\n            }\n        });\n        this.inter = window.setInterval(this.tick, Number(this.interval));\n    },\n    dismounted: function dismounted() {\n        clearInterval(this.inter);\n    },\n\n    methods: {\n        tick: function tick() {\n            this.current += Number(this.addition);\n            //console.log(this.current)\n            this.$emit('timeChange', this.current);\n        },\n        formatDate: function formatDate(date, pip) {\n            var weekdays = [\"Niedziela\", \"Poniedziałek\", \"Wtorek\", \"Środa\", \"Czwartek\", \"Piątek\", \"Sobota\"],\n                months = [\"Styczeń\", \"Luty\", \"Marzec\", \"Kwiecień\", \"Maj\", \"Czerwiec\", \"Lipiec\", \"Sierpień\", \"Wrzesień\", \"Październik\", \"Listopad\", \"Grudzień\"];\n\n            function nth(d, e) {\n                if (e) d += 1;\n                if (d < 10) return '0' + d;else return d;\n            }\n\n            if (pip) return weekdays[date.getDay()] + \", \" + nth(date.getDate(), false) + \".\" + nth(date.getMonth(), true) + \".\" + date.getFullYear() + \" <strong>\" + nth(date.getHours(), false) + \":\" + nth(date.getMinutes(), false) + \"</strong>\";else return nth(date.getDate(), false) + \".\" + nth(date.getMonth(), true) + \".\" + date.getFullYear();\n        },\n        fetchData: function fetchData() {\n            var API_PATH = 'https://twotired.math.party/timestamps';\n\n            var request = new XMLHttpRequest();\n            request.open(\"GET\", API_PATH, false);\n            request.send(null);\n\n            var constraints = JSON.parse(request.responseText);\n            this.max = constraints.max;\n            this.min = this.max - 24 * 60 * 60;\n            this.current = 1483225486;\n        }\n    }\n});\n\n/***/ }),\n\n/***/ 32:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck__ = __webpack_require__(36);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_createClass__ = __webpack_require__(37);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_createClass___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_createClass__);\n\n\n\nvar _class = function () {\n    function _class() {\n        __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck___default()(this, _class);\n    }\n\n    __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_createClass___default()(_class, [{\n        key: \"get\",\n        value: function get(aUrl, aCallback) {\n            var anHttpRequest = new XMLHttpRequest();\n            anHttpRequest.onreadystatechange = function () {\n                if (anHttpRequest.readyState == 4 && anHttpRequest.status == 200) aCallback(anHttpRequest.responseText);\n            };\n\n            anHttpRequest.open(\"GET\", aUrl, true);\n            anHttpRequest.send(null);\n        }\n    }]);\n\n    return _class;\n}();\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (_class);\n\n/***/ }),\n\n/***/ 33:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue__ = __webpack_require__(15);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__App__ = __webpack_require__(27);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__App___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__App__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__router__ = __webpack_require__(26);\n// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\n\n\n\n\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */].config.productionTip = false;\n\n/* eslint-disable no-new */\nnew __WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */]({\n  el: '#app',\n  router: __WEBPACK_IMPORTED_MODULE_2__router__[\"a\" /* default */],\n  template: '<App/>',\n  components: { App: __WEBPACK_IMPORTED_MODULE_1__App___default.a }\n});\n\n/***/ }),\n\n/***/ 68:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 69:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 70:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 71:\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(69)\n}\nvar Component = __webpack_require__(9)(\n  /* script */\n  __webpack_require__(29),\n  /* template */\n  __webpack_require__(75),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 72:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Component = __webpack_require__(9)(\n  /* script */\n  __webpack_require__(30),\n  /* template */\n  __webpack_require__(76),\n  /* styles */\n  null,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 73:\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(68)\n}\nvar Component = __webpack_require__(9)(\n  /* script */\n  __webpack_require__(31),\n  /* template */\n  __webpack_require__(74),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 74:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _vm._m(0)\n},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"timeline\"\n  }, [_c('div', {\n    attrs: {\n      \"id\": \"slider-connect\"\n    }\n  })])\n}]}\n\n/***/ }),\n\n/***/ 75:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('mapView')\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 76:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('div', {\n    attrs: {\n      \"id\": \"map\"\n    }\n  }), _vm._v(\" \"), _c('timeline', {\n    attrs: {\n      \"interval\": _vm.interval,\n      \"addition\": _vm.addition\n    },\n    on: {\n      \"timeChange\": _vm.timeChange\n    }\n  })], 1)\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 77:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    attrs: {\n      \"id\": \"app\"\n    }\n  }, [_c('router-view')], 1)\n},staticRenderFns: []}\n\n/***/ })\n\n},[33]);\n\n\n// WEBPACK FOOTER //\n// static/js/app.7d4f90b2e71eed04a1ad.js","import Vue from 'vue'\nimport Router from 'vue-router'\nimport Landing from '@/components/Landing'\n\nVue.use(Router)\n\nexport default new Router({\n  routes: [\n    {\n      path: '/',\n      name: 'Landing',\n      component: Landing\n    }\n  ]\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-25441132\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar Component = require(\"!../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"),\n  /* template */\n  require(\"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-25441132\\\",\\\"hasScoped\\\":false}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = 27\n// module chunks = 1","<template>\n  <div id=\"app\">\n      <router-view></router-view>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {}\n  }\n}\n</script>\n\n<style>\nhtml, body {\n  height: 100%;\n  margin: 0;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// App.vue?0b6b9026","<template>\r\n  <mapView></mapView>\r\n</template>\r\n<script>\r\n\r\nimport MapView from '@/components/MapView'\r\n\r\nexport default {\r\n  components: {\r\n    mapView: MapView\r\n  },\r\n  data() {\r\n    return {}\r\n  },\r\n  mounted: function () {\r\n  }\r\n}\r\n</script>\r\n<style>\r\n#map {\r\n  height: 650px;\r\n  width: 100%;\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// Landing.vue?7df10ec6","<template>\r\n  <div>\r\n    <div id=\"map\"></div>\r\n    <timeline @timeChange=\"timeChange\" :interval=\"interval\" :addition=\"addition\"></timeline>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Timeline from './Timeline.vue'\r\nimport HttpClient from '../httpclient.js'\r\n\r\nexport default {\r\n  components: {\r\n    'timeline': Timeline\r\n  },\r\n  data() {\r\n    return {\r\n      interval: 500,\r\n      addition: 6,\r\n      future: 60,\r\n      markers:{},\r\n      markersData: undefined,\r\n      lastUpdate: 0,\r\n      pathUpdate: 0,\r\n      colors: {\r\n        \"BIKE_CITY\": \"#EA2E49\",\r\n        \"BIKE_MOUNTAIN\": \"#333745\",\r\n        \"BIKE_ROAD\": \"#5C832F\",\r\n        \"BIKE_TREKKING\": \"#2980B9\",\r\n        \"DEFAULT\": \"#cc0000\"\r\n      }\r\n    }\r\n  },\r\n  mounted: function () {\r\n    this.initMap();\r\n  },\r\n  methods: {\r\n    fetchData: function (time, howManySecondsToSeeInToFuture) {\r\n      let apiPath = 'https://twotired.math.party/data?timestamp=' + time + '&duration=' + howManySecondsToSeeInToFuture;\r\n      let client = new HttpClient();\r\n      client.get(apiPath, (response) => {\r\n        this.markersData = JSON.parse(response).slice(0, 80);\r\n        this.updatePaths(time);\r\n        this.pathUpdate = time;\r\n      });\r\n    },\r\n    timeChange: function (current) {\r\n      if ((current-this.lastUpdate) > (this.future-this.addition)*(this.interval/1000)) {\r\n        this.lastUpdate = current;\r\n        this.fetchData(current, this.future);\r\n      } else {\r\n        console.log(new Date(current*1000).toString());\r\n\r\n        var slider = document.getElementById('slider-connect');\r\n        //slider.noUiSlider.set(\"1483225606\");\r\n        console.log(current)\r\n        console.log(slider.noUiSlider.get())\r\n        this.updatePaths(current);\r\n        this.pathUpdate = current;\r\n      }\r\n    },\r\n    updatePaths: function (time, oldData) {\r\n      if (!this.markersData) {\r\n        return;\r\n      }\r\n      for (let markerData of this.markersData) {\r\n        if (!this.markers || !this.markers[markerData.hash]) {\r\n          let markerPath = this.initMarker(markerData, time);\r\n          this.markers[markerData.hash] = markerPath;\r\n        } else {\r\n          let line = this.markers[markerData.hash];\r\n          let currPath = line.getPath();\r\n          for(let step of markerData.steps) {\r\n            if(step.ts > this.pathUpdate && step.ts <= time) {\r\n              currPath.push(new google.maps.LatLng(step.lat, step.lng));\r\n            }\r\n          }\r\n          continue;\r\n          outer:\r\n          for(let i=0;i<markerData.steps.length;i++) {\r\n            let step = markerData.steps[i];\r\n            for(let s of line.getPath().getArray()) {\r\n              if(step.lat == s.lat && step.lng == s.lng) {\r\n                continue outer;\r\n              }\r\n            }\r\n            if(step.ts<=time) {\r\n              if(step.last) {\r\n                line.setMap(null);\r\n                line = null;\r\n                break;\r\n              }\r\n              newp.push(new google.maps.LatLng(step.lat, step.lng))\r\n              markerData.steps.splice(i,1);\r\n              i--;\r\n            }\r\n          }\r\n       }\r\n      }\r\n    },\r\n    initMarker: function (marker, current) {\r\n      var lineSymbol = {\r\n        path: google.maps.SymbolPath.FORWARD_CLOSED_ARROW,\r\n        scale: 3,\r\n        strokeWeight: 3\r\n      };\r\n      var markerPath = new google.maps.Polyline({\r\n        icons: [{\r\n          icon: lineSymbol,\r\n          offset: '100%'\r\n        }],\r\n        geodesic: false,\r\n        strokeColor: '#cc0000',\r\n        strokeOpacity: 1,\r\n        strokeWeight: 3\r\n      });\r\n\r\n      if(this.colors[marker['activity_type']]) {\r\n        lineSymbol.strokeColor = this.colors[marker['activity_type']];\r\n        markerPath.strokeColor = this.colors[marker['activity_type']];\r\n      } else {\r\n        lineSymbol.strokeColor = this.colors[\"DEFAULT\"];\r\n        markerPath.strokeColor = this.colors[\"DEFAULT\"];\r\n      }\r\n\r\n      var path = [];\r\n      for (let step of marker.steps) {\r\n        if (step.ts <= current) {\r\n          path.push({ lat: step.lat, lng: step.lng });\r\n        }\r\n      }\r\n      markerPath.path = path;\r\n      markerPath.setMap(this.map);\r\n      return markerPath;\r\n    },\r\n    initMap: function () {\r\n      var uluru = { lat: 52.385392, lng: 16.992963 };\r\n      this.map = new google.maps.Map(document.getElementById('map'), {\r\n        scrollwheel: false,\r\n        zoom: 13,\r\n        center: uluru\r\n      })\r\n      // this.changeTarget();\r\n    },\r\n    populateMarkers: function () {\r\n      this.animateCircle(markerPath)\r\n      /*google.maps.event.addListener(marker, 'click', function () {\r\n        map.panTo(this.position);\r\n        // if a tooltip is present, dispose it\r\n        if (tooltip) {\r\n          tooltip.close();\r\n        }\r\n        tooltip = new google.maps.InfoWindow({\r\n          content: createTooltip(this.data, pict)\r\n        });\r\n        tooltip.open(map, this);\r\n      })*/\r\n      //}\r\n    },\r\n    animateCircle: function (line) {\r\n      var count = 0;\r\n      window.setInterval(function () {\r\n        count = (count + 1) % 200;\r\n\r\n        var icons = line.get('icons');\r\n        icons[0].offset = (count / 2) + '%';\r\n        line.set('icons', icons);\r\n      }, 300);\r\n    },\r\n    changeTarget: function () {\r\n      var t = this.city + ', ' + this.target + ', Polska';\r\n      var geocoder = new google.maps.Geocoder();\r\n      var b = this.map;\r\n      geocoder.geocode({ 'address': t }, (results, status) => {\r\n        if (status === 'OK') {\r\n          b.panTo(results[0].geometry.location);\r\n          b.setZoom(15);\r\n          if (this.marker) {\r\n            this.marker.setMap(null);\r\n          }\r\n          if (this.marker === null) {\r\n            var marker = new google.maps.Marker({\r\n              position: results[0].geometry.location,\r\n              title: \"Tu jesteś!\"\r\n            });\r\n            this.marker = marker;\r\n            marker.setMap(this.map);\r\n          }\r\n          this.marker = null\r\n\r\n        }\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\n\n\n// WEBPACK FOOTER //\n// MapView.vue?046f5475","<template>\r\n    <div class=\"timeline\">\r\n        <div id=\"slider-connect\"></div>\r\n    </div>\r\n</template>\r\n<script>\r\nexport default {\r\n    data() {\r\n        return {\r\n            constraints: {},\r\n            max: 0,\r\n            min: 0,\r\n            current: 0,\r\n            inter: {},\r\n        }\r\n    },\r\n    props: ['interval', 'addition'],\r\n    mounted() {\r\n        this.fetchData()\r\n        this.interval = window.setInterval(this.tick, 300);\r\n\r\n        var timeline = document.getElementById('slider-connect');\r\n        \r\n        console.log(this.min + ' ; ' + this.max)\r\n\r\n        var base = this\r\n        function toDate (v) {\r\n            return base.formatDate(new Date(v*1000), true);\r\n        }\r\n\r\n        function toDatePips (v) {\r\n            return base.formatDate(new Date(v*1000), false);\r\n        }\r\n\r\n        function reverseDate(str) {\r\n            var date = str.slice(-33)\r\n            date = date.replace(/<[^>]*>/g, '');\r\n            var dateParts = date.match(/(\\d+).(\\d+).(\\d+) (\\d+):(\\d+)/);\r\n            console.log(dateParts)\r\n            new Date()\r\n            date = new Date(dateParts[3], parseInt(dateParts[2], 10) - 1, dateParts[1], dateParts[4], dateParts[5]);\r\n            console.log(date.getTime());\r\n            return date\r\n        }\r\n\r\n        var slider = noUiSlider.create(timeline, {\r\n            start: this.min,\r\n            connect: [true, false],\r\n            tooltips: [true],\r\n            format: { to: toDate, from: Number },\r\n            range: {\r\n                'min': this.min-5000,\r\n                'max': this.max+5000\r\n            },\r\n            step: 2000,\r\n            pips: {\r\n                format: { to: toDatePips, from: Number },\r\n                mode: 'values',\r\n                values: [this.min, this.max]\r\n            }\r\n        });\r\n\r\n        var conf = this\r\n        slider.target.noUiSlider.on('change', function (values, handle) {\r\n            if (reverseDate(values[handle]) < 1000*conf.min) {\r\n                console.log(\"za mały\")\r\n                slider.target.noUiSlider.set(conf.min);\r\n            } else if (reverseDate(values[handle]) > 1000*conf.max) {\r\n                console.log(\"that's what she said\")\r\n                slider.target.noUiSlider.set(conf.max);\r\n            }\r\n        });\r\n        this.inter = window.setInterval(this.tick, Number(this.interval));\r\n    },\r\n    dismounted() {\r\n        clearInterval(this.inter)\r\n    },\r\n    methods: {\r\n        tick() {\r\n            this.current += Number(this.addition)\r\n            //console.log(this.current)\r\n            this.$emit('timeChange', this.current)\r\n        },\r\n        formatDate(date, pip) {\r\n            var\r\n                weekdays = [\r\n                    \"Niedziela\", \"Poniedziałek\", \"Wtorek\",\r\n                    \"Środa\", \"Czwartek\", \"Piątek\",\r\n                    \"Sobota\"\r\n                ],\r\n                months = [\r\n                    \"Styczeń\", \"Luty\", \"Marzec\",\r\n                    \"Kwiecień\", \"Maj\", \"Czerwiec\", \"Lipiec\",\r\n                    \"Sierpień\", \"Wrzesień\", \"Październik\",\r\n                    \"Listopad\", \"Grudzień\"\r\n                ];\r\n\r\n            function nth(d, e) {\r\n                if(e) d+=1\r\n                if(d<10) return '0' + d\r\n                else return d\r\n            }\r\n\r\n            if(pip)\r\n                return weekdays[date.getDay()] + \", \" +\r\n                    nth(date.getDate(), false) + \".\" +\r\n                    nth(date.getMonth(), true) + \".\" +\r\n                    date.getFullYear() + \" <strong>\" + nth(date.getHours(), false) +\r\n                    \":\" + nth(date.getMinutes(), false) + \"</strong>\";\r\n            else\r\n                return nth(date.getDate(), false) + \".\" +\r\n                    nth(date.getMonth(), true) + \".\" +\r\n                    date.getFullYear();\r\n    },\r\n        fetchData() {\r\n            var API_PATH = 'https://twotired.math.party/timestamps';\r\n\r\n            var request = new XMLHttpRequest();\r\n            request.open(\"GET\", API_PATH, false);\r\n            request.send(null)\r\n\r\n            var constraints = JSON.parse(request.responseText);\r\n            this.max = constraints.max;\r\n            this.min = this.max-24*60*60;\r\n            this.current = 1483225486;\r\n        }\r\n    }\r\n}\r\n\r\n</script>\r\n<style>\r\n    #slider-connect {\r\n        width: 80%;\r\n        margin: 0 auto;\r\n        margin-top: 3em;\r\n        margin-bottom: 3em;\r\n    }\r\n</style>\n\n\n// WEBPACK FOOTER //\n// Timeline.vue?5f15da46","export default class {\r\n    get(aUrl, aCallback) {\r\n        var anHttpRequest = new XMLHttpRequest();\r\n        anHttpRequest.onreadystatechange = function() { \r\n            if (anHttpRequest.readyState == 4 && anHttpRequest.status == 200)\r\n                aCallback(anHttpRequest.responseText);\r\n        }\r\n\r\n        anHttpRequest.open( \"GET\", aUrl, true );            \r\n        anHttpRequest.send( null );\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/httpclient.js","// The Vue build version to load with the `import` command\r\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\r\nimport Vue from 'vue'\r\nimport App from './App'\r\nimport router from './router'\r\n\r\nVue.config.productionTip = false\r\n\r\n\r\n/* eslint-disable no-new */\r\nnew Vue({\r\n  el: '#app',\r\n  router,\r\n  template: '<App/>',\r\n  components: { App }\r\n})\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1b90ae88\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Landing.vue\")\n}\nvar Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Landing.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1b90ae88\\\",\\\"hasScoped\\\":false}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Landing.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Landing.vue\n// module id = 71\n// module chunks = 1","var Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./MapView.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1c33a592\\\",\\\"hasScoped\\\":false}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./MapView.vue\"),\n  /* styles */\n  null,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/MapView.vue\n// module id = 72\n// module chunks = 1","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-192f8420\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Timeline.vue\")\n}\nvar Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Timeline.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-192f8420\\\",\\\"hasScoped\\\":false}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Timeline.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Timeline.vue\n// module id = 73\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _vm._m(0)\n},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"timeline\"\n  }, [_c('div', {\n    attrs: {\n      \"id\": \"slider-connect\"\n    }\n  })])\n}]}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-192f8420\",\"hasScoped\":false}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/Timeline.vue\n// module id = 74\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('mapView')\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-1b90ae88\",\"hasScoped\":false}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/Landing.vue\n// module id = 75\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('div', {\n    attrs: {\n      \"id\": \"map\"\n    }\n  }), _vm._v(\" \"), _c('timeline', {\n    attrs: {\n      \"interval\": _vm.interval,\n      \"addition\": _vm.addition\n    },\n    on: {\n      \"timeChange\": _vm.timeChange\n    }\n  })], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-1c33a592\",\"hasScoped\":false}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/MapView.vue\n// module id = 76\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    attrs: {\n      \"id\": \"app\"\n    }\n  }, [_c('router-view')], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-25441132\",\"hasScoped\":false}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = 77\n// module chunks = 1"],"sourceRoot":""}